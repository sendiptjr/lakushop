"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[694],{1578:function(e,n,t){var r=t(5893),i=(t(7294),t(9352));n.Z=function(e){var n=e.isVisible,t=e.toggleVisibility;return(0,r.jsx)("div",{onClick:t,style:{cursor:"pointer"},children:n?(0,r.jsx)(i.VhL,{color:"grey",size:20}):(0,r.jsx)(i.ezZ,{color:"grey",size:20})})}},3954:function(e,n,t){var r=t(5893),i=(t(7294),t(3463)),a=t(373);function o(){var e,n,t=(e=["\n  display: block;\n  margin: 0 auto;\n  border-color: red;\n"],n||(n=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(n)}})));return o=function(){return t},t}var s=(0,i.iv)(o());n.Z=function(e){var n=e.loading;return(0,r.jsx)("div",{className:"sweet-loading",children:(0,r.jsx)(a.Z,{color:"#36D7B7",loading:n,css:s,size:20})})}},983:function(e,n,t){var r=t(5121),i=t(1043),a=t(1502),o=t(1369),s=t(4912),l=r.Z.create({baseURL:"https://godev.lakushop.id",headers:{"Content-Type":"application/json",Token:"lZng1bUM4OHk4UU1GRUV5NnppaTdzMlg4bpU15aRzRya0FuNjIyMTJzd2Rhc2Q6c2RhZGFzZDMydWkyam4xM3dlRURTRkVSI3NkZnNkZg==","Api-Key":"PcF4V5NnTdzMlaTJg4bzRya0FuIyMppNj","X-Signature-Key":"rN10l317q9Ax1w8v7qLaAEMI1IXtrMbng2Rw6fW9wpna5cflg"}});l.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n.replace(/"/g,""))),e}),(function(e){return Promise.reject(e)})),l.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),l.interceptors.response.use((function(e){return e}),(function(e){var n;return 401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),(0,i.I0)((0,s.vH)(null)),(0,i.I0)((0,a.s9)()),(0,i.I0)((0,o._W)()),(0,i.I0)((0,s.zb)())),Promise.reject(e)}));n.Z=l},6228:function(e,n,t){var r=t(3977),i={apiKey:"AIzaSyAT7JYCxE8bKP4C4bpZK4xwDlNGal5J7to",authDomain:"webcommerce-afab4.firebaseapp.com",projectId:"webcommerce-afab4",storageBucket:"webcommerce-afab4.appspot.com",messagingSenderId:"477400052920",appId:"1:477400052920:web:f31fcaa0c7390671b0704d",measurementId:"G-2XNF10PT11"},a=0===(0,r.C6)().length?(0,r.ZF)(i):(0,r.C6)()[0];(0,r.ZF)(i);n.Z=a},1659:function(e,n,t){t.d(n,{Z:function(){return s}});var r=t(5893),i=t(9008),a=t.n(i),o=t(1163);function s(e){var n=e.children,t=e.title,i=void 0===t?"Lakushop.id: Beli Voucher Digital & Emas Terbaik Sekarang!":t,s=(0,o.useRouter)().pathname;return(0,r.jsxs)("div",{className:"app-main",children:[(0,r.jsx)(a(),{children:(0,r.jsx)("title",{children:i})}),(0,r.jsx)("main",{className:"/"!==s&&"/product/detail"!==s&&"/products"!==s&&"/cart"!==s?"main-page":"",children:n})]})}},9694:function(e,n,t){t.r(n);var r=t(4051),i=t.n(r),a=t(5893),o=t(1659),s=t(2283),l=t(1043),c=t(4912),u=t(983),d=t(1502),m=t(3954),f=t(7294),p=t(9460),v=t(1578);function h(e,n,t,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,i)}function y(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){h(a,r,i,o,s,"next",e)}function s(e){h(a,r,i,o,s,"throw",e)}o(void 0)}))}}n.default=function(e){var n=e.handleClose,t=e.showRegister,r=e.handleForget,h=(0,s.cI)(),g=h.register,x=h.handleSubmit,b=h.errors,j=(0,l.I0)(),k=(0,f.useState)(!1),w=k[0],N=k[1],S=(0,f.useState)(!1),M=S[0],Z=S[1],F=(0,f.useState)(!1),_=F[0],I=F[1],z=(0,f.useState)(""),C=z[0],P=z[1],R=function(){var e=y(i().mark((function e(t){var r,a,o,s,l,c,d,m,f;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(""),Z(!0),r={username:t.email,password:btoa(t.password)},e.prev=3,e.next=6,u.Z.post("user/api/login",r);case 6:200===(a=e.sent).status?(localStorage.setItem("token",JSON.stringify(null===a||void 0===a||null===(o=a.data)||void 0===o?void 0:o.token)),A(),(0,p.FB)("Success_Login",null===a||void 0===a||null===(s=a.data)||void 0===s||null===(l=s.customer)||void 0===l?void 0:l.first_name,null===a||void 0===a||null===(c=a.data)||void 0===c||null===(d=c.customer)||void 0===d?void 0:d.email),P(""),I(!0),setTimeout((function(){I(!1),n(),Z(!1)}),400)):(Z(!1),console.error("Login failed")),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),P(null===e.t0||void 0===e.t0||null===(m=e.t0.response)||void 0===m||null===(f=m.data)||void 0===f?void 0:f.error),Z(!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(n){return e.apply(this,arguments)}}(),A=function(){var e=y(i().mark((function e(){var n,t,r,a;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,u.Z.get("user/api/profile");case 4:return r=e.sent,j((0,c.vH)(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data)),e.next=8,u.Z.get("transaction/api/cart/total_item");case 8:a=e.sent,j((0,d.no)(null===a||void 0===a||null===(t=a.data)||void 0===t?void 0:t.data)),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();return(0,a.jsx)(o.Z,{children:(0,a.jsx)("section",{children:(0,a.jsx)("div",{className:"container",children:(0,a.jsxs)("div",{className:"form-block",children:[(0,a.jsx)("div",{onClick:function(){return n()},style:{display:"flex",alignContent:"flex-end",justifyContent:"flex-end",marginBottom:20},children:(0,a.jsx)("img",{src:"/images/icons/close.svg",alt:"close"})}),(0,a.jsx)("h1",{className:"form-block__title",style:{fontFamily:"Montserrat-Semibold"},children:"Log in / Masuk"}),(0,a.jsxs)("form",{className:"form",onSubmit:x(R),children:[(0,a.jsxs)("div",{className:"form__input-row",children:[(0,a.jsx)("h1",{style:{margin:10,fontFamily:"Montserrat-Semibold"},children:"Nomor HP / Email"}),(0,a.jsx)("input",{style:{fontFamily:"Montserrat-Semibold"},className:"form__input titleDefault",placeholder:"Masukkan Nomor HP / Email",type:"text",name:"email",ref:g({required:!0,pattern:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$|^(?=.*[0-9])[-.+0-9]+$/i})}),b.email&&"required"===b.email.type&&(0,a.jsx)("p",{className:"message message--error",style:{fontFamily:"Montserrat-Semibold"},children:"This field is required"}),b.email&&"pattern"===b.email.type&&(0,a.jsx)("p",{className:"message message--error",style:{fontFamily:"Montserrat-Semibold"},children:"Masukkan Email yang valid / Nomor Handphone anda"})]}),(0,a.jsxs)("div",{className:"form__input-row",children:[(0,a.jsx)("h1",{style:{margin:10,fontFamily:"Montserrat-Semibold"},children:"Password"}),(0,a.jsxs)("div",{className:"form__input_pass",style:{position:"relative",display:"flex",alignItems:"center"},children:[(0,a.jsx)("input",{style:{fontFamily:"Montserrat-Semibold",paddingRight:"2rem",flex:1,outline:"none",borderColor:w?"transparent":"#ccc",boxShadow:"none"},className:" titleDefault",type:w?"text":"password",placeholder:"Masukkan Password",name:"password",ref:g({required:!0})}),(0,a.jsx)(v.Z,{isVisible:w,toggleVisibility:function(){return N(!w)}})]}),b.password&&"required"===b.password.type&&(0,a.jsx)("p",{className:"message message--error",style:{fontFamily:"Montserrat-Semibold"},children:"This field is required"})]}),(0,a.jsx)("div",{className:"form__info"}),_?(0,a.jsx)("h1",{style:{textAlign:"center",fontFamily:"Montserrat-Semibold",color:"#00AA13"},children:"Berhasil Login"}):null,C?(0,a.jsx)("h1",{style:{textAlign:"center",fontFamily:"Montserrat-Semibold",color:"red"},children:C}):null,(0,a.jsx)("button",{disabled:M,type:"submit",className:"btn btn--rounded btn--yellow btn-submit",style:{fontFamily:"Montserrat-Semibold"},children:M?(0,a.jsx)(m.Z,{loading:M}):"Login"}),(0,a.jsx)("div",{style:{alignItems:"center",justifyContent:"center",display:"flex",margin:10},children:(0,a.jsx)("button",{onClick:function(){return r()},children:(0,a.jsx)("div",{children:(0,a.jsx)("h1",{style:{textAlign:"center",fontFamily:"Montserrat-Semibold"},children:"Lupa Password"})})})}),(0,a.jsxs)("p",{className:"form__signup-link",style:{fontFamily:"Montserrat-Semibold"},children:["Belum punya akun?"," ",(0,a.jsx)("a",{onClick:function(){return t()},style:{cursor:"pointer",color:"#E0BF4B",fontFamily:"Montserrat-Semibold"},children:"Daftar"})]})]})]})})})})}},9460:function(e,n,t){t.d(n,{FB:function(){return u},OH:function(){return c},sv:function(){return d}});var r=t(4051),i=t.n(r),a=t(8887),o=t(6228);function s(e,n,t,r,i,a,o){try{var s=e[a](o),l=s.value}catch(c){return void t(c)}s.done?n(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var n=this,t=arguments;return new Promise((function(r,i){var a=e.apply(n,t);function o(e){s(a,r,i,o,l,"next",e)}function l(e){s(a,r,i,o,l,"throw",e)}o(void 0)}))}}var c=function(e){return"".concat(e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))},u=function(){var e=l(i().mark((function e(n,t,r){var s,l;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.IH)(o.Z);case 2:(s=e.sent)&&(l=s,(0,a.Kz)(l,n,{username:t,email_id:r}));case 4:case"end":return e.stop()}}),e)})));return function(n,t,r){return e.apply(this,arguments)}}(),d=function(){var e=l(i().mark((function e(n,t){var r,s;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,a.IH)(o.Z);case 2:(r=e.sent)&&(s=r,(0,a.Kz)(s,n,t));case 4:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()}}]);
(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[352],{5553:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/transaction",function(){return t(2777)}])},2777:function(e,n,t){"use strict";t.r(n);var i=t(4051),a=t.n(i),s=t(5893),l=t(9474),r=t(1659),o=t(7294),c=t(1043),d=t(1163),u=t(983),m=t(4912),f=t(1502),x=t(9460),h=t(381),v=t.n(h),p=t(5434),y=t(1369),g=t(8173);function j(e,n,t,i,a,s,l){try{var r=e[s](l),o=r.value}catch(c){return void t(c)}r.done?n(o):Promise.resolve(o).then(i,a)}function b(e){return function(){var n=this,t=arguments;return new Promise((function(i,a){var s=e.apply(n,t);function l(e){j(s,i,a,l,r,"next",e)}function r(e){j(s,i,a,l,r,"throw",e)}l(void 0)}))}}n.default=function(e){e=null!==e?e:function(e){throw e}(new TypeError("Cannot destructure undefined"));var n=(0,o.useState)(!1),t=n[0],i=n[1],h=(0,o.useState)([{name:"Semua Transaksi",value:""},{name:"Menunggu Pembayaran",value:0},{name:"Transaksi Selesai",value:1},{name:"Transaksi Dibatalkan",value:2}])[0],j=(0,d.useRouter)(),w=(0,o.useState)([]),k=w[0],S=w[1],_=(0,o.useState)(""),C=_[0],N=_[1],F=(0,o.useState)(""),M=F[0],D=F[1],I=(0,c.I0)(),T=(0,o.useState)(!1),B=T[0],P=T[1],E=(0,c.v9)((function(e){return e.user})).user,R=function(){var e=b(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,u.Z.get("transaction/api/trx/list?code=".concat(C,"&status=").concat(M));case 4:t=e.sent,S(null===t||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),localStorage.removeItem("token"),I((0,m.vH)(null)),j.push("/");case 13:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,o.useEffect)((function(){L(),R(),(0,x.FB)("page_view_transaction",null===E||void 0===E?void 0:E.first_name,null===E||void 0===E?void 0:E.email)}),[C,M]);var L=function(){var e=b(a().mark((function e(){var n,t,i,s;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,u.Z.get("user/api/profile");case 4:return i=e.sent,I((0,m.vH)(null===i||void 0===i||null===(n=i.data)||void 0===n?void 0:n.data)),e.next=8,u.Z.get("transaction/api/cart/total_item");case 8:s=e.sent,I((0,f.no)(null===s||void 0===s||null===(t=s.data)||void 0===t?void 0:t.data)),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),z=window.innerWidth>280&&window.innerWidth<=760,H=function(e){var n=e;return v()(n).format("YYYY-MM-DD HH:mm")};return(0,s.jsxs)(r.Z,{children:[(0,s.jsx)(l.Z,{showLogin:t}),(0,s.jsxs)("div",{className:"containerCardTransaction",children:[(0,s.jsxs)("div",{className:"cardProfile",children:[(0,s.jsxs)("div",{className:"profileInfo",children:[(0,s.jsx)("p",{className:"textProfile",style:{fontFamily:"Montserrat-Semibold"},children:"Profil"}),(0,s.jsx)("div",{className:"headerCpass",children:(0,s.jsx)("div",{className:"containerProfile",children:(0,s.jsx)("img",{src:(null===E||void 0===E?void 0:E.picture)?"https://lakuemasdev.oss-ap-southeast-5.aliyuncs.com/ecommerce/profile/"+E.picture:"/images/icons/userIcon.png",width:200,height:100,alt:"Avatar",className:"imageProfile"})})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"textProfile",style:{marginBottom:"7px",fontFamily:"Montserrat-Semibold"},children:(null===E||void 0===E?void 0:E.first_name)+" "+(null===E||void 0===E?void 0:E.last_name)}),(0,s.jsx)("p",{className:"textEmail",style:{fontFamily:"Montserrat-Semibold"},children:(null===E||void 0===E?void 0:E.email.length)>30?"".concat(null===E||void 0===E?void 0:E.email.substring(0,30),"..."):"".concat(null===E||void 0===E?void 0:E.email)})]}),(0,s.jsx)("div",{className:"line1"})]}),(0,s.jsx)("div",{className:"profileMenus",children:(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,s.jsxs)("button",{onClick:function(){return j.push({pathname:"/profile",query:{header:1}})},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,s.jsx)("img",{src:"/images/icons/icon-dashboard.png",width:30}),(0,s.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Dashboard"})]}),(0,s.jsx)("div",{className:"line"}),(0,s.jsxs)("button",{onClick:function(){return j.push({pathname:"/profile",query:{header:0}})},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,s.jsx)("img",{src:"/images/icons/icon-account.png",width:30}),(0,s.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Profile"})]}),(0,s.jsx)("div",{className:"line"}),(0,s.jsxs)("button",{onClick:function(){return j.push("/transaction")},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,s.jsx)("img",{src:"/images/icons/icon-transaction.png",width:30}),(0,s.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Transaction"})]}),(0,s.jsx)("div",{className:"line"}),(0,s.jsxs)("button",{onClick:function(){localStorage.removeItem("token"),I((0,m.vH)(null)),I((0,f.s9)()),I((0,y._W)()),I((0,m.zb)()),j.push("/")},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,s.jsx)("img",{src:"/images/icons/icon-logout.png",width:30}),(0,s.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Keluar"})]})]})})]}),(0,s.jsxs)("div",{style:{flex:1},children:[(0,s.jsx)("div",{style:{display:"flex",flex:1,flexDirection:"row",alignItems:"center",margin:20},children:(0,s.jsx)("div",{style:{fontSize:18,fontFamily:"Montserrat-Semibold"},children:"Daftar Transaksi"})}),(0,s.jsx)("div",{style:{display:"flex",marginLeft:20},children:(0,s.jsxs)("div",{style:{flexDirection:"row",backgroundColor:"white",width:400,borderRadius:20,paddingLeft:10,display:"flex"},children:[(0,s.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:(0,s.jsx)("i",{onClick:function(){return P(!B)},className:"icon-search"})}),(0,s.jsx)("input",{className:"inputField",value:C,onChange:function(e){return N(e.target.value)},style:{padding:10,borderRadius:20,flex:1,fontSize:z?12:14,fontFamily:"Montserrat-Semibold"},placeholder:"Cari Nomor Transaksi Anda"})]})}),(0,s.jsxs)("div",{style:{margin:20,paddingBottom:50},children:[(0,s.jsx)("div",{style:{backgroundColor:"#f1f1f1"},children:(0,s.jsx)("div",{style:{display:"flex",overflowX:"scroll",marginBottom:10},children:h.map((function(e){return(0,s.jsx)("div",{className:"textProfile",onClick:function(){return D(e.value)},style:{cursor:"pointer",marginRight:20,backgroundColor:M===e.value?"#E0BF4B":"white",paddingInline:20,paddingTop:10,padding:10,borderRadius:20,fontFamily:"Montserrat-Semibold",textAlign:"center",color:M===e.value?"white":"black"},children:e.name})}))})}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[k&&k.map((function(e,n){return(0,s.jsxs)("div",{style:{backgroundColor:"white",borderRadius:20,padding:20,marginBottom:10},children:[(0,s.jsxs)("div",{className:"flexResponsive",children:[(0,s.jsx)("div",{className:"product__transaction",children:(0,s.jsx)("img",{src:"".concat("https://lakuemasdev.oss-ap-southeast-5.aliyuncs.com/ecommerce/product/").concat(e.product_img),alt:"img-transaction"})}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",marginLeft:20,flex:1},children:[(0,s.jsxs)("h1",{style:{display:"flex",alignItems:"center",fontSize:20},children:[(0,s.jsx)("h1",{className:"transaction_status",style:{fontFamily:"Montserrat-Semibold",color:"1"===(null===e||void 0===e?void 0:e.payment_status)?"#5ACC4D":"0"===(null===e||void 0===e?void 0:e.payment_status)?"#E0BF4B":"red"},children:(t=null===e||void 0===e?void 0:e.payment_status,"0"===t?"Menunggu Pembayaran":"1"===t?"Transaksi Selesai":"2"===t?"Transaksi Dibatalkan":"Menunggu Pembayaran")})," ","-"," ",(0,s.jsxs)("h1",{className:"transaction_status",style:{color:"#E0BF4B",fontFamily:"Montserrat-Semibold"},children:[" "," ",null===e||void 0===e?void 0:e.code]})]}),(0,s.jsxs)("h1",{style:{display:"flex",fontSize:26,fontWeight:"bold",fontFamily:"Montserrat-Semibold"},children:["Rp. ",(0,x.OH)(e.total_payment)]}),(0,s.jsx)("div",{style:{border:1,borderStyle:"solid",borderColor:"grey"}}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"flex-start",flex:1},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,flexDirection:"row"},children:[(0,s.jsx)(p.sHf,{color:"black"})," ",(0,s.jsx)("h1",{className:"transaction_status",style:{fontFamily:"Montserrat-Semibold"},children:"".concat(H(e.order_date)," WIB")})]}),(0,s.jsxs)("h1",{className:"transaction_status",style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,fontFamily:"Montserrat-Semibold"},children:[(0,s.jsx)(p.nom,{})," "," ",e.total_product]})]})]})]},n),(0,s.jsxs)("div",{className:"flexResponsive",style:{display:"flex",justifyContent:"flex-end"},children:["0"===(null===e||void 0===e?void 0:e.payment_status)?(0,s.jsx)("button",{onClick:function(){return window.open(null===e||void 0===e?void 0:e.payment_url,"_blank")},style:{backgroundColor:"#E0BF4B",padding:10,paddingInline:20,borderRadius:20,fontFamily:"Montserrat-Semibold",margin:10,minWidth:200,color:"white"},children:"Bayar Sekarang"}):null,(0,s.jsx)("button",{onClick:function(){j.push({pathname:"/transaction/detail",query:{code:e.code}})},style:{backgroundColor:"#04AA87",padding:10,paddingInline:20,borderRadius:20,color:"white",fontFamily:"Montserrat-Semibold",margin:10,minWidth:200},children:"Lihat Detail"})]})]});var t})),null===k?(0,s.jsxs)("div",{style:{alignItems:"center",display:"flex",flexDirection:"column",marginTop:20},children:[(0,s.jsx)("img",{src:"/images/icons/noTransaction.png",alt:"transaction"}),(0,s.jsx)("h1",{style:{display:"flex",alignItems:"center",justifyContent:"center",fontSize:20,marginTop:20,fontFamily:"Montserrat-Semibold"},children:"Data Belum Tersedia"})]}):null]})]})]})]}),(0,s.jsx)("div",{style:{backgroundColor:"white"},children:(0,s.jsx)(g.Z,{showLogin:function(){return i(!0)}})})]})}}},function(e){e.O(0,[937,296,57,885,228,632,970,98,694,474,173,774,888,179],(function(){return n=5553,e(e.s=n);var n}));var n=e.O();_N_E=n}]);
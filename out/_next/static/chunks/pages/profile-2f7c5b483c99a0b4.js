(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{6896:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(5771)}])},5771:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return U}});var i=t(5893),r=t(1659),o=t(4051),a=t.n(o),l=t(7294),s=t(1043),d=t(4912),c=t(1163),u=(t(6314),t(983)),m=t(5121),f=t(1502),v=t(1369),h=m.Z.create({baseURL:"https://godev.lakushop.id",headers:{Accept:"application/json","Content-Type":"multipart/form-data"}});h.interceptors.request.use((function(e){var n=localStorage.getItem("token");return n&&(e.headers.Authorization="Bearer ".concat(n.replace(/"/g,""))),e}),(function(e){return Promise.reject(e)})),h.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),h.interceptors.response.use((function(e){return e}),(function(e){var n;401===(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.status)&&(localStorage.removeItem("token"),(0,s.I0)((0,d.vH)(null)),(0,s.I0)((0,f.s9)()),(0,s.I0)((0,v._W)()),(0,s.I0)((0,d.zb)()))}));var p=h,x=t(9583),g=t(3750),y=(t(1664),t(2283)),b=t(3913),j=t(4591);function w(e,n,t,i,r,o,a){try{var l=e[o](a),s=l.value}catch(d){return void t(d)}l.done?n(s):Promise.resolve(s).then(i,r)}function N(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function a(e){w(o,i,r,a,l,"next",e)}function l(e){w(o,i,r,a,l,"throw",e)}a(void 0)}))}}var k=function(e){return new Promise((function(n,t){var i=new Image;i.addEventListener("load",(function(){return n(i)})),i.addEventListener("error",(function(e){return t(e)})),i.setAttribute("crossOrigin","anonymous"),i.src=e}))};function S(e,n){return C.apply(this,arguments)}function C(){return(C=N(a().mark((function e(n,t){var i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n);case 2:return i=e.sent,(r=document.createElement("canvas")).width=t.width,r.height=t.height,(o=r.getContext("2d")).fillStyle="#ffffff",o.fillRect(0,0,r.width,r.height),o.drawImage(i,t.x,t.y,t.width,t.height,0,0,t.width,t.height),e.abrupt("return",new Promise((function(e,n){r.toBlob((function(n){e(URL.createObjectURL(n))}),"image/jpeg")})));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var _=t(9934),F=t(5434),M=function(){return(0,i.jsx)("div",{className:"loader",children:(0,i.jsx)("span",{children:"Loading..."})})},I=t(381),P=t.n(I),B=t(1578),A=t(9460),L=t(3454);function E(e,n,t,i,r,o,a){try{var l=e[o](a),s=l.value}catch(d){return void t(d)}l.done?n(s):Promise.resolve(s).then(i,r)}function D(e){return function(){var n=this,t=arguments;return new Promise((function(i,r){var o=e.apply(n,t);function a(e){E(o,i,r,a,l,"next",e)}function l(e){E(o,i,r,a,l,"throw",e)}a(void 0)}))}}function T(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function R(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{},i=Object.keys(t);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),i.forEach((function(n){T(e,n,t[n])}))}return e}var Z=function(e){var n=e.values,t=(0,s.I0)(),r=(0,c.useRouter)(),o=(0,s.v9)((function(e){return e.user})).user,m=(0,l.useMemo)((function(){return o}),[o]),h=(0,l.useState)(1),w=h[0],N=h[1],k=(0,l.useState)(""),C=k[0],I=k[1],E=(0,l.useState)(!1),Z=E[0],O=E[1],z=(0,l.useState)(!1),U=z[0],Y=z[1],K=(0,l.useState)(""),V=K[0],H=K[1],W=(0,l.useState)(!1),q=W[0],X=W[1],G=(0,l.useState)(!1),J=G[0],Q=G[1],$=(0,l.useState)(!1),ee=$[0],ne=$[1],te=(0,l.useState)(""),ie=(te[0],te[1],(0,l.useState)("")),re=ie[0],oe=(ie[1],(0,l.useState)(!1)),ae=oe[0],le=oe[1],se=(0,l.useState)(!1),de=se[0],ce=se[1],ue=(0,l.useState)(""),me=(ue[0],ue[1],(0,l.useState)(!1)),fe=(me[0],me[1],(0,l.useState)(null)),ve=(fe[0],fe[1]),he=(0,l.useState)(""),pe=(he[0],he[1],(0,l.useState)("")),xe=pe[0],ge=pe[1],ye=(0,l.useState)(""),be=ye[0],je=ye[1],we=(0,l.useState)({x:0,y:0}),Ne=we[0],ke=we[1],Se=(0,l.useState)(1),Ce=Se[0],_e=Se[1],Fe=(0,l.useState)(1),Me=Fe[0],Ie=(Fe[1],(0,l.useState)({userName:null===o||void 0===o?void 0:o.username,email:null===o||void 0===o?void 0:o.email,contactNumber:null===o||void 0===o?void 0:o.phone,firstName:null===o||void 0===o?void 0:o.first_name,lastName:null===o||void 0===o?void 0:o.last_name,idCardNumber:"123123123",customerCode:"23234234",customerName:"Test Ajaa",taxPayerNumber:"02q342",picture:null===o||void 0===o?void 0:o.picture,dob:P()(null===o||void 0===o?void 0:o.dob).format("YYYY-MM-DD"),gender:"p"===(null===o||void 0===o?void 0:o.gender)?"Perempuan":""===(null===o||void 0===o?void 0:o.gender)?"-":"Laki-laki"})),Pe=Ie[0],Be=Ie[1],Ae=(0,l.useState)(0),Le=Ae[0],Ee=Ae[1],De=(0,l.useState)(null),Te=De[0],Re=De[1],Ze=(0,l.useState)(!1),Oe=(Ze[0],Ze[1],(0,l.useState)(!1)),ze=(Oe[0],Oe[1],(0,l.useState)(!1)),Ue=ze[0],Ye=ze[1],Ke=(0,l.useState)(!1),Ve=Ke[0],He=Ke[1],We=(0,l.useState)(!1),qe=We[0],Xe=We[1],Ge=(0,y.cI)(),Je=(Ge.register,Ge.handleSubmit,Ge.errors,(0,l.useState)(n)),Qe=Je[0],$e=Je[1],en=(0,l.useState)(null),nn=en[0],tn=en[1],rn=(0,l.useState)({total_vouchers:0,total_purchases:0}),on=rn[0],an=rn[1],ln=(0,l.useState)(""),sn=ln[0],dn=ln[1],cn=(function(){var e=D(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))}(),function(){var e=D(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Be(R({},Pe,{dob:n})),t={first_name:null===Pe||void 0===Pe?void 0:Pe.firstName,last_name:null===Pe||void 0===Pe?void 0:Pe.lastName,dob:n,gender:null===Pe||void 0===Pe?void 0:Pe.gender,phone:null===Pe||void 0===Pe?void 0:Pe.contactNumber},e.prev=2,e.next=5,u.Z.post("user/api/profile/update",t);case 5:e.sent,mn(),r.reload(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})))}(),function(){var e=D(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!1),n={first_name:null===Pe||void 0===Pe?void 0:Pe.firstName,last_name:null===Pe||void 0===Pe?void 0:Pe.lastName,dob:null===Pe||void 0===Pe?void 0:Pe.dob,gender:null===Pe||void 0===Pe?void 0:Pe.gender,phone:null===Pe||void 0===Pe?void 0:Pe.contactNumber},e.prev=2,e.next=5,u.Z.post("user/api/profile/update",n);case 5:e.sent,mn(),r.reload(),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(2);case 12:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}());(0,l.useEffect)((function(){Be(R({},Pe,{userName:null===o||void 0===o?void 0:o.username,email:null===o||void 0===o?void 0:o.email,contactNumber:null===o||void 0===o?void 0:o.phone,firstName:null===o||void 0===o?void 0:o.first_name,lastName:null===o||void 0===o?void 0:o.last_name,dob:P()(null===o||void 0===o?void 0:o.dob).format("YYYY-MM-DD"),gender:"p"===(null===o||void 0===o?void 0:o.gender)?"Perempuan":"l"===(null===o||void 0===o?void 0:o.gender)?"Laki-laki":"-"})),(0,A.FB)("page_view_profile ",null===o||void 0===o?void 0:o.first_name,null===o||void 0===o?void 0:o.email)}),[m]),(0,l.useEffect)((function(){mn()}),[]),(0,l.useEffect)((function(){$e(n)}),[n]),(0,l.useEffect)((function(){1===Qe&&((0,A.FB)("page_view_dashboard ",null===o||void 0===o?void 0:o.first_name,null===o||void 0===o?void 0:o.email),un())}),[Qe]);var un=function(){var e=D(a().mark((function e(){var n,t,i,r,o,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,u.Z.get("transaction/api/trx/dashboard");case 4:(null===(t=e.sent)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.data)&&an(R({},on,{total_purchases:null===t||void 0===t||null===(i=t.data)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.total_purchases,total_vouchers:null===t||void 0===t||null===(o=t.data)||void 0===o||null===(l=o.data)||void 0===l?void 0:l.total_vouchers})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();(0,l.useEffect)((function(){var e=function(e){};return r.events.on("routeChangeStart",e),function(){r.events.off("routeChangeStart",e)}}),[]);var mn=function(){var e=D(a().mark((function e(){var n,i,r,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=4,u.Z.get("user/api/profile");case 4:return r=e.sent,t((0,d.vH)(null===r||void 0===r||null===(n=r.data)||void 0===n?void 0:n.data)),e.next=8,u.Z.get("transaction/api/cart/total_item");case 8:o=e.sent,t(setCountCart(null===o||void 0===o||null===(i=o.data)||void 0===i?void 0:i.data)),e.next=14;break;case 12:e.prev=12,e.t0=e.catch(0);case 14:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),fn=function(){var e=D(a().mark((function e(){var n,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xe(!0),e.prev=1,e.next=4,u.Z.get("user/api/send_email_verification");case 4:(null===(n=e.sent)||void 0===n?void 0:n.data)&&(Xe(!1),Ee(60*(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.minute_expired)),Ye(!0)),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),Xe(!1);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}(),vn=function(){Ee(0)};(0,l.useEffect)((function(){var e;return!0===Ue&&(e=setInterval((function(){Ee((function(n){return 1===n&&clearInterval(e),n-1}))}),1e3)),function(){return clearInterval(e)}}),[Ue]);var hn=function(){var e=D(a().mark((function e(){var n,t,i,o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return He(!0),ge(""),e.prev=2,n={otp_code:sn},e.next=6,u.Z.post("user/api/check_email_verification",n);case 6:(null===(t=e.sent)||void 0===t?void 0:t.data)?(He(!1),Ye(!1),vn(),mn(),ge(""),r.reload()):He(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),ge(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(o=i.data)||void 0===o?void 0:o.error),He(!1);case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),pn=function(){var e=D(a().mark((function e(n){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:tn(URL.createObjectURL(n)),ce(!de),ve(n);case 3:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),xn=function(e,n,t){return t=t||(e.match(/^data:([^;]+);/)||"")[1],fetch(e).then((function(e){return e.arrayBuffer()})).then((function(e){return new File([e],n,{type:t})}))},gn=function(){var e=D(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S(nn,Te);case 2:n=e.sent,xn(n,"lakushop").then(function(){var e=D(a().mark((function e(n){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("file",n),e.next=4,p.post("user/api/profile/photo_upload",t);case 4:e.sent&&(mn(),r.reload());case 6:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}());case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),yn=function(){var e=D(a().mark((function e(){var n,t,i,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je(""),e.prev=1,n={old_password:C,new_password:V},e.next=5,u.Z.post("user/api/profile/update_password",n);case 5:(null===(t=e.sent)||void 0===t?void 0:t.data)&&(I(""),H(""),je(""),mn(),X(!1)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),je(null===e.t0||void 0===e.t0||null===(i=e.t0.response)||void 0===i||null===(r=i.data)||void 0===r?void 0:r.error);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return(0,i.jsxs)("div",{className:"containerCardProfile",children:[(0,i.jsxs)("div",{className:"cardProfile",children:[(0,i.jsxs)("div",{className:"profileInfo",children:[(0,i.jsx)("p",{className:"textProfile",style:{fontFamily:"Montserrat-Semibold"},children:"Profil"}),(0,i.jsx)("row",{className:"headerCpass",children:(0,i.jsxs)("div",{className:"containerProfile",children:[(0,i.jsx)("img",{src:(null===o||void 0===o?void 0:o.picture)?"https://lakuemasdev.oss-ap-southeast-5.aliyuncs.com/ecommerce/profile/"+o.picture:"/images/icons/userIcon.png",width:200,height:100,alt:"Avatar",className:"imageProfile"}),(0,i.jsxs)("label",{for:"files",children:[(0,i.jsx)("div",{className:"middleProfile"}),(0,i.jsx)("div",{className:"tar",children:(0,i.jsx)("div",{className:"buttonchangecamera",children:(0,i.jsx)("img",{alt:"take-logo",src:"/images/icons/takePicture.png",width:40})})})]}),(0,i.jsx)("input",{onChange:function(e){return pn(e.target.files[0])},type:"file",accept:"image/*",id:"files",style:{display:"none"}})]})}),(0,i.jsxs)("div",{children:[(0,i.jsx)("p",{className:"textProfile",style:{marginBottom:"7px",fontFamily:"Montserrat-Semibold"},children:(null===o||void 0===o?void 0:o.first_name)+" "+(null===o||void 0===o?void 0:o.last_name)}),(0,i.jsx)("div",{children:(0,i.jsx)("p",{className:"textEmail",style:{fontFamily:"Montserrat-Semibold"},children:(null===o||void 0===o?void 0:o.email.length)>30?"".concat(null===o||void 0===o?void 0:o.email.substring(0,30),"..."):"".concat(null===o||void 0===o?void 0:o.email)})})]}),(0,i.jsx)("div",{className:"line1"})]}),(0,i.jsx)("div",{className:"profileMenus",children:(0,i.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[(0,i.jsxs)("button",{onClick:function(){return $e(1)},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i.jsx)("img",{src:"/images/icons/icon-dashboard.png",width:30}),(0,i.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Dashboard"})]}),(0,i.jsx)("div",{className:"line"}),(0,i.jsxs)("button",{onClick:function(){return $e(0)},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i.jsx)("img",{src:"/images/icons/icon-account.png",width:30}),(0,i.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Profile"})]}),(0,i.jsx)("div",{className:"line"}),(0,i.jsxs)("button",{onClick:function(){return r.push("/transaction")},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i.jsx)("img",{src:"/images/icons/icon-transaction.png",width:30}),(0,i.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Transaction"})]}),(0,i.jsx)("div",{className:"line"}),(0,i.jsxs)("button",{onClick:function(){(0,A.FB)("success_logout",null===o||void 0===o?void 0:o.first_name,null===o||void 0===o?void 0:o.email),r.push("/"),localStorage.removeItem("token"),t((0,d.vH)(null)),t((0,f.s9)()),t((0,v._W)()),t((0,d.zb)())},style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[(0,i.jsx)("img",{src:"/images/icons/icon-logout.png",width:30}),(0,i.jsx)("h1",{style:{fontFamily:"Montserrat-Semibold",marginLeft:10},children:"Keluar"})]})]})})]}),(0,i.jsx)("div",{className:"container-tab-profile",children:(0,i.jsx)("div",{className:"containerCardInformation",children:(0,i.jsxs)("div",{className:"cardInformation",children:[1==Qe?(0,i.jsx)("div",{className:"tabProfileRow",children:(0,i.jsx)("div",{style:T({cursor:"pointer",fontFamily:"Montserrat-Semibold",borderBottom:"5px solid #E0BF4B"},"fontFamily","Montserrat-Semibold"),className:"tabProfile",children:(0,i.jsx)("p",{className:"textTabProfile",style:{fontWeight:"bold",color:"#050505",cursor:"pointer",fontFamily:"Montserrat-Semibold"},children:"Dashboard"})})}):(0,i.jsx)("div",{className:"tabProfileRow",children:[{title:"Data Diri",index:1},{title:"Hubungkan Akun",index:2},{title:"Keamanan Akun",index:3}].map((function(e){return(0,i.jsx)("div",{style:w===e.index?{borderBottom:"5px solid #E0BF4B",fontFamily:"Montserrat-Semibold"}:{cursor:"pointer",fontFamily:"Montserrat-Semibold"},className:"tabProfile",onClick:function(){N(e.index)},children:(0,i.jsx)("p",{className:"textTabProfile",style:{fontWeight:"bold",color:"#050505",cursor:"pointer",fontFamily:"Montserrat-Semibold"},children:e.title})},e.index)}))}),(0,i.jsx)("div",{style:{width:"100%",backgroundColor:"#f8f9fd",border:"1px solid #f8f9fd"}}),1==Qe?(0,i.jsx)("div",{className:"tabInformasi",children:(0,i.jsxs)("div",{className:"flexResponsive",children:[(0,i.jsxs)("div",{style:{backgroundColor:"white",flex:1,margin:10,alignItems:"center",justifyContent:"center",display:"flex",padding:10,borderRadius:15,flexDirection:"column",minHeight:120,maxWidth:250,boxShadow:"0 0 10px rgba(0, 0, 0, 0.6)"},children:[(0,i.jsx)("h1",{style:{color:"black",fontFamily:"Montserrat-Semibold",textAlign:"center"},children:"Total Pembelian"}),(0,i.jsx)("h1",{style:{color:"black",fontFamily:"Montserrat-Semibold",textAlign:"center"},children:"Voucher Bulan Berjalan"}),(0,i.jsxs)("h1",{style:{color:"black",marginTop:20,fontFamily:"Montserrat-Semibold",textAlign:"center"},children:[null===on||void 0===on?void 0:on.total_vouchers," Voucher"]})]}),(0,i.jsxs)("div",{style:{boxShadow:"0 0 10px rgba(0, 0, 0, 0.6)",backgroundColor:"orange",flex:1,alignItems:"center",justifyContent:"center",display:"flex",padding:10,borderRadius:15,flexDirection:"column",minHeight:120,maxWidth:250,margin:10},children:[(0,i.jsx)("h1",{style:{color:"white",fontFamily:"Montserrat-Semibold",textAlign:"center"},children:"Jumlah Belanja Kamu"}),(0,i.jsxs)("h1",{style:{color:"white",marginTop:20,fontFamily:"Montserrat-Semibold",textAlign:"center"},children:["Rp ",(0,A.OH)(null===on||void 0===on?void 0:on.total_purchases)]})]})]})}):1===w?function(){var e;return(0,i.jsxs)("div",{className:"tabInformasi",children:[(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"judulInformasi",style:{fontFamily:"Montserrat-Semibold"},children:"Nama Lengkap"}),(0,i.jsxs)("div",{style:{margin:0,flexDirection:"row",display:"flex"},children:[J?(0,i.jsxs)("div",{className:"formEditFullname flex-row flex",children:[(0,i.jsx)("input",{type:"text",value:null===Pe||void 0===Pe?void 0:Pe.firstName,maxLength:15,className:"inputFullName",placeholder:"Nama Pertama",onChange:function(e){var n;return Be(R({},Pe,{firstName:null===(n=e.target.value)||void 0===n?void 0:n.replace(/[^a-z A-Z]+/g,"")}))},style:{width:(null===Pe||void 0===Pe?void 0:Pe.firstName)&&12*(null===Pe||void 0===Pe?void 0:Pe.firstName.length)>110?12*(null===Pe||void 0===Pe?void 0:Pe.firstName.length):110}}),(0,i.jsx)("div",{style:{height:"70%",width:"1px",backgroundColor:"#d4d5d5",margin:"auto 10px"}}),(0,i.jsx)("input",{type:"text",value:null===Pe||void 0===Pe?void 0:Pe.lastName,className:"inputFullName",placeholder:"Nama Terakhir",maxLength:15,onChange:function(e){var n;return Be(R({},Pe,{lastName:null===(n=e.target.value)||void 0===n?void 0:n.replace(/[^a-z A-Z]+/g,"")}))},style:{width:(null===Pe||void 0===Pe?void 0:Pe.lastName)&&12*(null===Pe||void 0===Pe?void 0:Pe.lastName.length)>110?12*(null===Pe||void 0===Pe?void 0:Pe.lastName.length):110}})]}):(0,i.jsxs)("span",{className:"textInformasi",children:[null===Pe||void 0===Pe?void 0:Pe.firstName," ",null===Pe||void 0===Pe?void 0:Pe.lastName]}),(0,i.jsx)("span",{className:"btnChange",style:{cursor:"pointer",marginLeft:30},onClick:function(){J?cn():Q(!0)},children:J?"Simpan":"Ubah"})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"judulInformasi",style:{fontFamily:"Montserrat-Semibold"},children:"Email"}),(0,i.jsxs)("div",{className:"rowInformasi",children:[(0,i.jsx)("input",{type:"email",value:null===Pe||void 0===Pe?void 0:Pe.email,className:"textInformasi",disabled:!0,onKeyPress:"this.style.width = ((this.value.length + 1) * 8) + 'px';",style:{width:"100%",fontFamily:"Montserrat-Semibold"}}),"1"!=(null===o||void 0===o?void 0:o.email_verified)?(0,i.jsx)("button",{disabled:qe,onClick:function(){return fn()},className:"judulInformasi",style:{fontFamily:"Montserrat-Semibold",color:"white",backgroundColor:"#00AA13",padding:10,borderRadius:5,marginTop:5},children:qe?(0,i.jsx)(M,{}):"Verifikasi Email Sekarang"}):(0,i.jsxs)("div",{className:"judulInformasi",style:{fontFamily:"Montserrat-Semibold",color:"blue",flexDirection:"row",display:"flex",alignItems:"center"},children:[(0,i.jsx)(F.vr,{color:"#2196f3",size:15})," ",(0,i.jsx)("h1",{style:{color:"#2196f3",marginLeft:5},children:"Email Terverifikasi"})]})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"judulInformasi",style:{fontFamily:"Montserrat-Semibold"},children:"Nomor Telepon"}),(0,i.jsxs)("div",{style:{margin:0,flexDirection:"row",display:"flex"},children:[ee?(0,i.jsx)("input",{className:"changePhoneNumber",value:null===Pe||void 0===Pe?void 0:Pe.contactNumber,onChange:function(e){return function(e){var n=e.replace(/[^0-9]+/g,"").slice(0,13);Be(R({},Pe,{contactNumber:n}))}(e.target.value)}}):(0,i.jsx)("span",{className:"textInformasi",children:null===Pe||void 0===Pe?void 0:Pe.contactNumber}),(0,i.jsx)("span",{className:"btnChange",style:{cursor:"pointer",marginLeft:30},onClick:function(){ee?cn():ne(!0)},children:ee?"Simpan":"Ubah"})]})]}),(0,i.jsxs)("div",{className:"mb-4",children:[(0,i.jsx)("div",{className:"judulInformasi",style:{fontFamily:"Montserrat-Semibold"},children:"Gender"}),(0,i.jsxs)("div",{className:"rowInformasi",style:{display:"flex",flexDirection:"row"},children:[ae?(0,i.jsxs)("select",{value:null===Pe||void 0===Pe?void 0:Pe.gender,disabled:!ae,className:"textInformasi",style:{width:10*((null===Pe||void 0===Pe||null===(e=Pe.gender)||void 0===e?void 0:e.length)+10),backgroundColor:"#ffffff",fontFamily:"Montserrat-Semibold"},onChange:function(e){Be(R({},Pe,{gender:e.target.value}))},children:[(0,i.jsx)("option",{style:{fontFamily:"Montserrat-Semibold"},selected:re&&"l"==re,value:"l",children:"Laki-Laki"}),(0,i.jsx)("option",{style:{fontFamily:"Montserrat-Semibold"},selected:re&&"p"==re,value:"p",children:"Perempuan"})]}):(0,i.jsx)("span",{className:"textInformasi",children:null===Pe||void 0===Pe?void 0:Pe.gender}),(0,i.jsx)("span",{className:"btnChange",style:{cursor:"pointer",marginLeft:30},onClick:function(){ae?(le(!1),cn()):le(!0)},children:ae?"Simpan":"Ubah"})]})]}),(0,i.jsx)(j.Z,{isOpen:Ue,onClose:function(){return Ye(!1)},children:(0,i.jsx)("div",{style:{display:"flex",height:300},children:(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{onClick:function(){Ye(!1),vn()},style:{display:"flex",alignContent:"flex-end",justifyContent:"flex-end",marginBottom:20},children:(0,i.jsx)("img",{src:"/images/icons/close.svg",alt:"close"})}),(0,i.jsx)("h1",{style:{textAlign:"center",marginBottom:10,fontFamily:"Montserrat-Semibold"},children:"Masukkan Kode Verifikasi"}),(0,i.jsx)("h1",{style:{textAlign:"center",marginBottom:10,fontFamily:"Montserrat-Semibold"},children:"yang dikirimkan ke email anda"}),(0,i.jsxs)("div",{children:[(0,i.jsx)(_.Z,{length:6,onComplete:function(e){dn(e)}}),Le?(0,i.jsxs)("h1",{style:{textAlign:"center",marginTop:10,marginBottom:20,color:"orange",fontFamily:"Montserrat-Semibold"},children:["Waktu Verifikasi : ",Le," detik"]}):(0,i.jsx)("h1",{onClick:function(){fn()},style:{cursor:"pointer",color:"orange",textAlign:"center",marginTop:10,marginBottom:10},children:"Kirim Ulang Kode Verifikasi"}),xe?(0,i.jsx)("h1",{style:{textAlign:"center",marginBottom:10,color:"red",fontFamily:"Montserrat-Semibold"},children:xe}):null,(0,i.jsx)("div",{style:{flexDirection:"column",display:"flex"},children:(0,i.jsx)("button",{disabled:(null===sn||void 0===sn?void 0:sn.length)<6||Ve,onClick:function(){hn()},type:"submit",className:"btn btn--rounded btn--yellow btn-submit",style:{fontFamily:"Montserrat-Semibold",opacity:(null===sn||void 0===sn?void 0:sn.length)<6?.5:1},children:Ve?(0,i.jsx)(M,{}):"Konfirmasi"})})]})]})})})]})}():2===w?function(){var e;return(0,i.jsx)("div",{style:{margin:40,borderRadius:20,padding:20},children:null===o||void 0===o||null===(e=o.linkage)||void 0===e?void 0:e.map((function(e){return(0,i.jsxs)("div",{style:{maxWidth:200,borderRadius:20,backgroundColor:"#FFF",boxShadow:"0 0 10px rgba(0, 0, 0, 0.2)",cursor:"pointer",flexDirection:"column",display:"flex",alignItems:"center",marginBottom:10},children:[(0,i.jsx)("img",{src:"LAKUEMAS"===(null===e||void 0===e?void 0:e.name)?"/images/icons/iconLakuemas.png":"/images/icons/iconCmk.png",width:150,alt:"iconLakuemas"}),(null===e||void 0===e?void 0:e.status)?(0,i.jsx)("h1",{style:{textAlign:"center",color:"#2196f3",fontSize:12,marginBottom:20,fontFamily:"Montserrat-Semibold"},children:"Akun Sudah Terhubung"}):null,(null===e||void 0===e?void 0:e.status)?null:(0,i.jsx)("div",{onClick:function(){"LAKUEMAS"===(null===e||void 0===e?void 0:e.name)?window.open("".concat(null===L||void 0===L?void 0:"https://test-member.lakuemas.com","/linkage/login?email=").concat(null===o||void 0===o?void 0:o.email,"&code=").concat(null===o||void 0===o?void 0:o.unique_code),"_blank"):window.open("https://member.cmkclub.com/frontdesk/login/","_blank")},style:{border:"1px solid #E0BF4B",cursor:"pointer",borderRadius:20,padding:10,marginBottom:10},children:(0,i.jsx)("h1",{style:{textAlign:"center",color:(null===e||void 0===e?void 0:e.status)?"red":"#2196f3",fontSize:12,fontFamily:"Montserrat-Semibold"},children:(null===e||void 0===e?void 0:e.status)?"Lepaskan Akun":"Hubungkan Akun"})})]})}))})}():3===w?(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{style:{flexDirection:"row",display:"flex",alignItems:"center",marginTop:10,marginBottom:10,marginLeft:5},children:[(0,i.jsx)("h1",{className:"transaction_status",style:{margin:10,fontFamily:"Montserrat-Semibold"},children:"Keamanan Akun"}),(0,i.jsxs)("button",{onClick:function(){return X(!q)},style:{backgroundColor:"#47d147",borderRadius:10,alignItems:"center",display:"flex",paddingInline:5},children:[(0,i.jsx)(x.wNT,{color:"white"}),(0,i.jsx)("h1",{style:{margin:5,fontSize:13,fontFamily:"Montserrat-Semibold"},children:"Ubah Password"})]})]}),(0,i.jsx)("div",{className:"form",children:(0,i.jsxs)("div",{className:"border-2 border-[#E0BF4B] py-2 border-solid mx-4 rounded-lg",children:[(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",marginLeft:20},children:[(0,i.jsx)(g.zTl,{}),(0,i.jsxs)("h1",{style:{margin:10,fontFamily:"Montserrat-Semibold"},children:["Password Terakhir diubah"," ",P()(null===o||void 0===o?void 0:o.last_update_password_at).format("DD MMMM YYYY ")]})]}),(0,i.jsx)("div",{style:{width:"100%",backgroundColor:"#f8f9fd",border:"1px solid #f8f9fd"}}),q?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("h1",{style:{margin:10,fontFamily:"Montserrat-Semibold"},children:"Password Lama"}),(0,i.jsxs)("div",{style:{flexDirection:"row",display:"flex",alignItems:"center"},children:[(0,i.jsx)("input",{disabled:!q,onChange:function(e){return I(e.target.value)},className:"border-2 border-[#E0BF4B] py-2 border-solid mx-4 rounded-lg pl-2",type:Z?"text":"password",placeholder:"Password Lama",name:"password",value:C}),(0,i.jsx)(B.Z,{isVisible:Z,toggleVisibility:function(){return O(!Z)}})]}),(0,i.jsx)("h1",{style:{margin:10,fontFamily:"Montserrat-Semibold"},children:"Password Baru"}),(0,i.jsxs)("div",{style:{flexDirection:"row",display:"flex",alignItems:"center"},children:[(0,i.jsx)("input",{disabled:!q,className:"border-2 border-[#E0BF4B] py-2 border-solid mx-4 rounded-lg pl-2",type:U?"text":"password",placeholder:"Password Baru",name:"password",value:V,onChange:function(e){return H(e.target.value)}}),(0,i.jsx)(B.Z,{isVisible:U,toggleVisibility:function(){return Y(!U)}})]}),(0,i.jsx)("button",{onClick:function(){return yn()},style:{backgroundColor:"#47d147",borderRadius:10,alignItems:"center",display:"flex",paddingInline:10,marginTop:10,marginLeft:15},children:(0,i.jsx)("h1",{style:{color:"white",margin:10,fontSize:14,fontFamily:"Montserrat-Semibold"},children:"Simpan"})}),be?(0,i.jsx)("h1",{style:{margin:10,color:"red",fontFamily:"Montserrat-Semibold"},children:be}):null]}):null]})})]}):null]})})}),(0,i.jsx)(j.Z,{isOpen:de,onClose:function(){return ce(!1)},children:(0,i.jsxs)("div",{style:{display:"flex",flex:1,flexDirection:"column",height:300,width:300},children:[(0,i.jsx)("div",{children:(0,i.jsx)("div",{onClick:function(){return ce(!1)},style:{display:"flex",alignContent:"flex-end",justifyContent:"flex-end",marginBottom:20},children:(0,i.jsx)("img",{src:"/images/icons/close.svg",alt:"close"})})}),(0,i.jsx)("div",{className:"crop-container",style:{marginTop:100},children:(0,i.jsx)(b.ZP,{image:nn,crop:Ne,zoom:Ce,aspect:Me,onCropChange:ke,onCropComplete:function(e,n){Re(n)},onZoomChange:_e,classes:{cropAreaClassName:"Crop_Area Crop_AreaRound",containerClassName:"Crop_Container",mediaClassName:"Crop_Image"},disableAutomaticStylesInjection:!0})}),(0,i.jsx)("button",{onClick:function(){ce(!1),gn()},style:{backgroundColor:"#47d147",borderRadius:10,alignItems:"center",justifyContent:"center",display:"flex",paddingInline:10,height:30},children:(0,i.jsx)("h1",{style:{margin:10,fontSize:14,textAlign:"center",fontFamily:"Montserrat-Semibold",color:"white"},children:"Update Foto"})})]})})]})},O=t(9474),z=t(8173),U=function(){var e=(0,c.useRouter)(),n=(0,s.v9)((function(e){return e.user})).user,t=(0,l.useState)(0),o=t[0],a=t[1],d=(0,l.useState)(!1),u=d[0],m=d[1];return(0,l.useEffect)((function(){null===localStorage.getItem("token")?e.push("/"):(0,A.FB)("page_view_profile",null===n||void 0===n?void 0:n.first_name,null===n||void 0===n?void 0:n.email)}),[]),(0,l.useEffect)((function(){var n,t,i;(null===e||void 0===e||null===(n=e.query)||void 0===n?void 0:n.header)&&(void 0!=(null===e||void 0===e||null===(t=e.query)||void 0===t?void 0:t.header)&&a(Number(null===e||void 0===e||null===(i=e.query)||void 0===i?void 0:i.header)))}),[]),(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(O.Z,{showLogin:u}),(0,i.jsx)(Z,{values:o}),(0,i.jsx)("div",{style:{backgroundColor:"white"},children:(0,i.jsx)(z.Z,{showLogin:function(){return m(!0)}})})]})}}},function(e){e.O(0,[937,296,57,885,228,445,13,632,970,98,913,694,474,173,774,888,179],(function(){return n=6896,e(e.s=n);var n}));var n=e.O();_N_E=n}]);